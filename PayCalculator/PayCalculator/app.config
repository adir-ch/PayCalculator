<?xml version="1.0" encoding="utf-8" ?>
<configuration>

  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    <section name="unity" type="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection, Microsoft.Practices.Unity.Configuration" />
  </configSections>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5" />
  </startup>

  <unity xmlns="http://schemas.microsoft.com/practices/2010/unity">
    <container>
      <register name="EmployeeAddService"
                type="PayCalculator.core.Model.Common.IBusinessService, PayCalculator.core.Model"
                mapTo="PayCalculator.core.BusinessServices.Employee.EmployeeAddService, PayCalculator.core.BusinessServices" />

      <register type="PayCalculator.core.Model.Employee.IEmployeeDao, PayCalculator.core.Model"
                mapTo="PayCalculator.core.DAO.Employee.EmployeeDao, PayCalculator.core.DAO" />
      
      <register type="PayCalculator.core.Model.Employee.IEmployee, PayCalculator.core.Model"
                mapTo="PayCalculator.core.BusinessObjects.Employee.Employee, PayCalculator.core.BusinessObjects" />

      <register name="EmployeeLookupService"
                type="PayCalculator.core.Model.Common.IBusinessService, PayCalculator.core.Model"
                mapTo="PayCalculator.core.BusinessServices.Employee.EmployeeLookupService, PayCalculator.core.BusinessServices" />

      <register name="DefaultTaxDeductionRule"
               type="PayCalculator.core.Model.Tax.ITaxCalculator, PayCalculator.core.Model"
               mapTo="PayCalculator.core.BusinessObjects.Tax.DefaultTaxCalculator, PayCalculator.core.BusinessObjects" />
      
      <register name="DefaultTaxDeductionRule"
               type="PayCalculator.core.Model.Salary.IDeductionRule, PayCalculator.core.Model"
               mapTo="PayCalculator.core.BusinessObjects.Salary.DefaultTaxDeductionRule, PayCalculator.core.BusinessObjects" />

      <register name="DefaultCoreSalaryStrategy"
               type="PayCalculator.core.Model.Salary.ISalaryStrategy, PayCalculator.core.Model"
               mapTo="PayCalculator.core.BusinessObjects.Salary.DefaultCoreSalaryStrategy, PayCalculator.core.BusinessObjects" />

      <register name="DefaultCoreDeductions"
               type="PayCalculator.core.Model.Salary.IDeductions, PayCalculator.core.Model"
               mapTo="PayCalculator.core.BusinessObjects.Salary.DefaultCoreDeductions, PayCalculator.core.BusinessObjects" />

      <register type="PayCalculator.core.Model.Location.ILocationFactory, PayCalculator.core.Model"
                mapTo="PayCalculator.Ext.BusinessObjects.Location.LocationFactoryExt, PayCalculator.Ext.BusinessObjects" />

      <register name="DefaultTaxCalculator"
                type="PayCalculator.core.Model.Tax.ITaxCalculator, PayCalculator.core.Model"
                mapTo="PayCalculator.core.BusinessObjects.Tax.DefaultTaxCalculator, PayCalculator.core.BusinessObjects" />

      <register name="EmployeeCalculateSalaryService"
                type="PayCalculator.core.Model.Common.IBusinessService, PayCalculator.core.Model"
                mapTo="PayCalculator.core.BusinessServices.Employee.EmployeeCalculateSalaryService, PayCalculator.core.BusinessServices" />

      <!--Australia-->
      <register name="AustraliaLocation"
                type="PayCalculator.core.Model.Location.ILocation, PayCalculator.core.Model"
                mapTo="PayCalculator.Ext.BusinessObjects.Location.AustraliaLocation, PayCalculator.Ext.BusinessObjects" />

      <register name="AustraliaSalaryStrategy"
                type="PayCalculator.core.Model.Salary.ISalaryStrategy, PayCalculator.core.Model"
                mapTo="PayCalculator.Ext.BusinessObjects.Salary.Australia.AustraliaSalaryStrategy, PayCalculator.Ext.BusinessObjects" />

      <register type="PayCalculator.Ext.Model.Salary.IAustraliaSalaryDeductions, PayCalculator.Ext.Model"
                mapTo="PayCalculator.Ext.BusinessObjects.Salary.Australia.AustraliaSalaryDeductions, PayCalculator.Ext.BusinessObjects" />
      
      <!--Germany-->
      <register name="GermanyLocation"
                type="PayCalculator.core.Model.Location.ILocation, PayCalculator.core.Model"
                mapTo="PayCalculator.Ext.BusinessObjects.Location.GermanyLocation, PayCalculator.Ext.BusinessObjects" />
      
    </container>
  </unity>

  <log4net>

    <!--Loggers-->

    <root>
      <level value="DEBUG" />
      <appender-ref ref="Console" />
    </root>

    <!--Client log-->
    <logger name="ClientLogger" additivity="false">
      <level value="DEBUG" />
      <appender-ref ref="ClientConsole" />
    </logger>

    <!--Server log-->
    <logger name="ServerLogger" additivity="false">
      <level value="DEBUG" />
      <appender-ref ref="ServerConsole" />
    </logger>

    <appender name="Console" type="log4net.Appender.ConsoleAppender">
      <layout type="log4net.Layout.PatternLayout">
        <!--<conversionPattern value="%-4timestamp [%thread] %-5level %logger (%file:%line) - %message%newline" />-->
        <conversionPattern value="%-4timestamp [%thread] %-5level %logger - %message%newline" />
      </layout>
    </appender>

    <appender name="ClientConsole" type="log4net.Appender.ConsoleAppender">
      <layout type="log4net.Layout.PatternLayout">
        <!--<conversionPattern value="%-4timestamp [%thread] %-5level %logger (%file:%line) - %message%newline" />-->
        <conversionPattern value="%-4timestamp [%thread] %-5level %logger - %message%newline" />
      </layout>
    </appender>

    <appender name="ServerConsole" type="log4net.Appender.ConsoleAppender">
      <layout type="log4net.Layout.PatternLayout">
        <!--<conversionPattern value="%-4timestamp [%thread] %-5level %logger (%file:%line) - %message%newline" />-->
        <conversionPattern value="%-4timestamp [%thread] %-5level %logger - %message%newline" />
      </layout>
    </appender>
  </log4net>

</configuration>